<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Agency Landing</title>

    <link href="static/css/bootstrap.css" rel="stylesheet">
    <link href="static/css/override.css" rel="stylesheet">
    <link href="static/css/style.css" rel="stylesheet">
    <link href="static/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- google fonts -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,600,400italic' rel='stylesheet' type='text/css'>


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

<body id="" class="">

  <!-- Header Starts -->
  <nav class="navbar navbar-default" role="navigation">
    <div class="container"> 
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> 
          <span class="sr-only">Toggle navigation</span> 
          <span class="icon-bar"></span> 
          <span class="icon-bar"></span>
          <span class="icon-bar"></span> 
        </button>
          
        <a class="navbar-brand" href="#"><img src="static/images/logo.png" /></a>             
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      
        <ul class="nav navbar-nav navbar-left">
          <li><a href="#">Dashboard</a></li>
          <li><a href="#">Renter</a></li>
          <li><a href="#">Landlords</a></li>
          <li><a href="#" class="nav-btn">Post</a></li>
        </ul>
      
        <ul class="nav navbar-nav navbar-right">
          <li><a href="#" class="message-icon"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span></a></li>
          <li class="dropdown">
            <a href="#" class="user-icon" data-toggle="dropdown"><span class="glyphicon glyphicon-user" aria-hidden="true"></span></a>
            <ul class="dropdown-menu user-dropdown">
              <li><a href="#">My Profile</a></li>
              <li><a href="#">Manage Properties</a></li>
              <li><a href="#">Manage Bookmarks</a></li>
              <li><a href="#">Logout</a></li>
            </ul>
          </li>
        </ul>
          
      </div>
      <!--end of navbar-collapse-->    
    </div>
    <!--end of container-->  
  </nav>
  <!--end of navbar-->
  
	<div class="top-bar">	
		<div class="container">
			<ul class="navbar-left">
			  <li><a href="#">Home</a></li>
			  <li><a href="#">Vancouver</a></li>
			  <li>Kings Properties</li>
			</ul>
			<ul class="navbar-right">
				 <li><a href="#"><span class="glyphicon glyphicon glyphicon-star-empty" aria-hidden="true"></span> Bookmark</a></li>
				<li><a href="#"><span class="glyphicon glyphicon-file"></span> Print</a></li>
			</ul>
		</div>
	</div><!-- end top-bar -->

    <div class="container">
      <div class="messages-container">
        <div class="hidden-xs col-sm-2"> 
			<div class="scroller_anchor"></div>
			<div class="about-agency scroller">
				<img src="static/images/agency-img.jpg" alt="129x130" />
				<div class="agency-scroll">
					<p class="agency-title">Kings Properties</p>
					<p>555 Nowhere st., Vancouver, BC, Canada</p>
				</div>
				<ul>
					<li><span class="glyphicon glyphicon-earphone" aria-hidden="true"></span> 123 1234 423</li>
					<li><span class="glyphicon glyphicon-earphone" aria-hidden="true"></span> 123 1234 423</li>
				</ul>			
			</div><!-- end about-agency -->
			
        </div><!-- end folders -->
        <div class="agency-landing col-sm-10">
			<h1>King Properties Inc.</h1>
			<p class="small-text-gray">555 Nowhere st., Vancouver, BC, Canada</p>
			<a href="#"><img class="social" src="static/images/social.png" alt="social actions" /></a>
			<p>
				Description goes here: Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut 
				laoreet dolore magna aliquam erat volutpat.
			</p>
			
			<div class="agency-properties">
			
				<div class="properties-mode">
					<a class="list-marker marker-list active"><span class="glyphicon glyphicon-th-list"></span></a>
					<a class="list-marker marker-map"><span class="glyphicon glyphicon-map-marker"></span></a>
				</div>
				
				<p class="heading-agencprop">
					<span class="span-head">Agency Properties</span>
					<span class="heading-border"></span>
				</p>
				
				<div class="properties-list-content">
					<div class="ap-box">
					<a href="#">
						<img src="static/images/list-img.png" alt="165x123" />
						<div class="estate-description">
							<h3>Estate 754</h3>
							<p>1 beds, baths, 3 parking</p>
							<p>Estate description changes color to darker one on mouse over it, and it can be long - but we cut...</p>
						</div>
						<div class="estate-controls">
							<p class="estate-price">$416.12</p>
							<p class="small-gray">412 sq</p>
							<span class="glyphicon glyphicon-star-empty"></span>
						</div>
					</a>	
					</div><!-- end ap-box -->
					<div class="ap-box">
					<a href="#">
						<img src="static/images/list-img.png" alt="165x123" />
						<div class="estate-description">
							<h3>Estate 754</h3>
							<p>1 beds, baths, 3 parking</p>
							<p>Estate description changes color to darker one on mouse over it, and it can be long - but we cut...</p>
						</div>
						<div class="estate-controls">
							<p class="estate-price">$416.12</p>
							<p class="small-gray">412 sq</p>
							<span class="glyphicon glyphicon-star-empty"></span>
						</div>
					</a>	
					</div><!-- end ap-box -->
					<div class="ap-box">
					<a href="#">
						<img src="static/images/list-img.png" alt="165x123" />
						<div class="estate-description">
							<h3>Estate 754</h3>
							<p>1 beds, baths, 3 parking</p>
							<p>Estate description changes color to darker one on mouse over it, and it can be long - but we cut...</p>
						</div>
						<div class="estate-controls">
							<p class="estate-price">$416.12</p>
							<p class="small-gray">412 sq</p>
							<span class="glyphicon glyphicon-star-empty"></span>
						</div>
					</a>	
					</div><!-- end ap-box -->
					<div class="ap-box">
					<a href="#">
						<img src="static/images/list-img.png" alt="165x123" />
						<div class="estate-description">
							<h3>Estate 754</h3>
							<p>1 beds, baths, 3 parking</p>
							<p>Estate description changes color to darker one on mouse over it, and it can be long - but we cut...</p>
						</div>
						<div class="estate-controls">
							<p class="estate-price">$416.12</p>
							<p class="small-gray">412 sq</p>
							<span class="glyphicon glyphicon-star-empty"></span>
						</div>
					</a>	
					</div><!-- end ap-box -->
					<div class="ap-box">
					<a href="#">
						<img src="static/images/list-img.png" alt="165x123" />
						<div class="estate-description">
							<h3>Estate 754</h3>
							<p>1 beds, baths, 3 parking</p>
							<p>Estate description changes color to darker one on mouse over it, and it can be long - but we cut...</p>
						</div>
						<div class="estate-controls">
							<p class="estate-price">$416.12</p>
							<p class="small-gray">412 sq</p>
							<span class="glyphicon glyphicon-star-empty"></span>
						</div>
					</a>	
					</div><!-- end ap-box -->
					<div class="ap-box">
					<a href="#">
						<span class="property-rented"></span>
						<img src="static/images/list-img.png" alt="165x123" />
						<div class="estate-description">
							<h3>Estate 754</h3>
							<p>1 beds, baths, 3 parking</p>
							<p>Estate description changes color to darker one on mouse over it, and it can be long - but we cut...</p>
						</div>
						<div class="estate-controls">
							<p class="estate-price">$416.12</p>
							<p class="small-gray">412 sq</p>
							<span class="glyphicon glyphicon-star-empty"></span>
						</div>
					</a>	
					</div><!-- end ap-box -->
					
					<div class="load-more">
						<a href="#">Load more</a>
					</div>
				</div><!-- properties-list-content -->
				
				<div class="properties-map-content">
					 <div id="map-canvas" style="margin-top:31px; border-radius: 12px;"></div>
					 
					 <!-- start properties to appear on map -->
					 <div class="properties-on-map">
						<a class="estate-instance" href="#" slug="estate-754" latitude="49.2562" longitude="-123.1934">Estate 754</a>
						<a class="estate-instance" href="#" slug="estate-1222" latitude="49.2588" longitude="-123.1959">Estate 1222</a>
						<a class="estate-instance" href="#" slug="estate-522" latitude="49.2563" longitude="-123.1956">Estate 522</a>
						<a class="estate-instance" href="#" slug="estate-350" latitude="49.2551" longitude="-123.1987">Estate 350</a>
						
					 </div><!-- end properties-on-map -->
					
				</div><!-- end properties-map-content -->
			</div><!-- end agency-properties -->
			
			<div class="agency-agents">
				<p class="heading-agencprop">
					<span class="span-head">Agency Agents</span>
					<span class="heading-border hb2"></span>
				</p>
				
				<ul>
					<li>
						<img src="static/images/avatar-small.png" alt="62x62" />
						<button class="btn btn-orange-big"><span class="glyphicon glyphicon-envelope"></span> Message</button>
						<h4>Adam Smith</h4>
						<p>
							<span class="glyphicon glyphicon-earphone"></span> 123 1234 423 <br />
							<span class="glyphicon glyphicon-envelope"></span> joel@legris.com
						</p>
					</li>
					<li>
						<img src="static/images/avatar-small.png" alt="62x62" />
						<button class="btn btn-orange-big"><span class="glyphicon glyphicon-envelope"></span> Message</button>
						<h4>Adam Smith</h4>
						<p>
							<span class="glyphicon glyphicon-earphone"></span> 123 1234 423 <br />
							<span class="glyphicon glyphicon-envelope"></span> joel@legris.com
						</p>
					</li>
					<li>
						<img src="static/images/avatar-small.png" alt="62x62" />
						<button class="btn btn-orange-big"><span class="glyphicon glyphicon-envelope"></span> Message</button>
						<h4>Adam Smith</h4>
						<p>
							<span class="glyphicon glyphicon-earphone"></span> 123 1234 423 <br />
							<span class="glyphicon glyphicon-envelope"></span> joel@legris.com
						</p>
					</li>
					<li>
						<img src="static/images/avatar-small.png" alt="62x62" />
						<button class="btn btn-orange-big"><span class="glyphicon glyphicon-envelope"></span> Message</button>
						<h4>Adam Smith</h4>
						<p>
							<span class="glyphicon glyphicon-earphone"></span> 123 1234 423 <br />
							<span class="glyphicon glyphicon-envelope"></span> joel@legris.com
						</p>
					</li>
				</ul>				
			</div><!-- end agency agents -->

        </div><!-- end agency-landing -->
      </div><!-- end messages-container -->

    </div><!-- end container -->

  <div class="footer">
    <div class="container">  
      <div class="row">    
        <div class="col-xs-12 col-sm-5 hidden-xs">
          <div class="media"> 
            <a href="#"> <img class="media-object" src="static/images/logo.png"> </a>
            <div class="media-body">
              Short info about website lorem ipsum dolor sit amet, consectetuer adipiscing elit. Quisque pellentesque ullamcorper diam. Morbi elit nulla, semper ac, lobortis ut, rutrum in, arcu. <a href="#"> more</a>
            </div>
          </div>
        </div>
      
        <div class="col-xs-12 col-sm-7">
          <div class="row">
            <div class="col-xs-4 col-sm-2">
              <h4>Site Map</h4>
              <a href="/">Home</a><br />
              <a href="#">Renter</a><br />
              <a href="#">Landlords</a> 
            </div>
            
            <div class="col-xs-4 col-sm-2">
              <h4>&nbsp;</h4>
              <a href="/">Post</a><br />
              <a href="#">Register</a><br />
              <a href="#">Sign Up</a> 
            </div>
            
            <div class="col-xs-4 col-sm-3">
              <h4>Help & Support</h4>
              <a href="/">Support</a><br />
              <a href="#">Help</a><br />
              <a href="#">FAQs</a> 
            </div>
            
            <div class="col-xs-12 col-sm-5">
              <h4 class="hidden-xs">Social</h4>
              <div class="social-links"> 
                <a href="#" class="social-roll facebook"></a> 
                <a href="#" class="social-roll twitter"></a> 
                <a href="#" class="social-roll pinterest"></a> 
                <a href="#" class="social-roll linkedin"></a> 
                <a href="#" class="social-roll youtube"></a> 
                <a href="#" class="social-roll atom"></a> 
              </div>
            </div>
          </div>
        </div>
    
    </div>
    </div><!-- end container -->
    
    <div class="footer-bottom">
      <div class="container">
        <p>
          <span><a href="#">Terms of Use</a> <a href="#">Privacy Policy</a><a href="#">Copyright</a></span><br class="visible-xs" />
          Copyright &copy; 2013 Smoovely inc. All rights reserved
        </p>
      </div>
      <!--end of container-->
    </div>
    <!--end of footer-bottom-->
  </div>
<!--end of footer-->
     
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="static/js/jquery-1.11.0.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>
	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places"></script> 
	 <script type="text/javascript">
		function initialize() {
      var mapCanvas = document.getElementById('map-canvas');
      loadLocations();

      var mapOptions = {
        center: new google.maps.LatLng(locations[0][1], locations[0][2]),
        zoom: 15,
        disableDefaultUI: true,
        zoomControl: true,
        zoomControlOptions: {
          style: google.maps.ZoomControlStyle.SMALL,
          position: google.maps.ControlPosition.TOP_RIGHT
        },
        mapTypeId: google.maps.MapTypeId.ROADMAP
      }
      var map = new google.maps.Map(mapCanvas, mapOptions);

      locations.forEach(function(location) {
        var infowindow = new google.maps.InfoWindow({
          content: $('#' + location[3]).html()
        });

        marker = new google.maps.Marker({
          position: new google.maps.LatLng(location[1], location[2]),
          map: map,
          icon: 'static/images/marker.png',
          infowindow: infowindow
        });

        google.maps.event.addListener(marker, 'click', function() {
          markers.forEach(function(marker) {
            marker.infowindow.close()
          });
          this.infowindow.open(map, this);
          $(".list-item").parent('div').css("overflow", "hidden");
        });

        markers.push(marker);
      });
    }

    var locations = [];
    var markers = [];

    function loadLocations() {
      $(".estate-instance").each(function(i) {
        var latitude = $(this).attr('latitude');
        var longitude = $(this).attr('longitude');
        var location = [$(this).text(),latitude,longitude,$(this).attr('slug')];
        locations.push(location);
      });
    }
    google.maps.event.addDomListener(window, 'load', initialize);
	 </script>
	<script type="text/javascript">
	  $(document).ready(function() {
		  $('.marker-list').click(function(){
			 $(this).addClass('active');
			 $('.marker-map').removeClass('active');
			 $('.properties-list-content').show();
			  $('.properties-map-content').css('visibility', 'hidden');
		  });	
			$('.marker-map').click(function(){
			 $(this).addClass('active');
			 $('.marker-list').removeClass('active');
			 $('.properties-map-content').css('visibility', 'visible');
			 $('.properties-list-content').hide();
		  });
		  		
      });
	</script>
	
	<script type="text/javascript">
		// This function will be executed when the user scrolls the page.
		$(window).scroll(function(e) {
			// Get the position of the location where the scroller starts.
			var scroller_anchor = $(".scroller_anchor").offset().top;
			 
			// Check if the user has scrolled and the current position is after the scroller start location and if its not already fixed at the top
			if ($(this).scrollTop() >= scroller_anchor && $('.scroller').css('position') != 'fixed')
			{    // Change the CSS of the scroller to hilight it and fix it at the top of the screen.
				$('.scroller').css({
					'position': 'fixed',
					'top': '0px'
				});
				$('.agency-scroll').css({
					'display': 'block',
					'width': '158px'
				});
				// Changing the height of the scroller anchor to that of scroller so that there is no change in the overall height of the page.
				$('.scroller_anchor').css('height', '50px');
			}
			else if ($(this).scrollTop() < scroller_anchor && $('.scroller').css('position') != 'relative')
			{    // If the user has scrolled back to the location above the scroller anchor place it back into the content.
				 
				// Change the height of the scroller anchor to 0 and now we will be adding the scroller back to the content.
				$('.scroller_anchor').css('height', '0px');
				 
				// Change the CSS and put it back to its original position.
				$('.scroller').css({
					'position': 'relative'
				});
				$('.agency-scroll').css({
					'display': 'none'
				});
			}
		});
	
	</script>
	
  </body>
</html>
